<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/ChefMain.css') }}">
    <title>è¨‚å–®ç®¡ç†ç³»çµ±</title>
    <script>
        function generateCalendar() {
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth();
            const monthNames = ["ä¸€æœˆ", "äºŒæœˆ", "ä¸‰æœˆ", "å››æœˆ", "äº”æœˆ", "å…­æœˆ", "ä¸ƒæœˆ", "å…«æœˆ", "ä¹æœˆ", "åæœˆ", "åä¸€æœˆ", "åäºŒæœˆ"];
            document.getElementById("calendar-header").innerText = monthNames[month] + " " + year;

            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            let calendarHTML = "<div>æ—¥</div><div>ä¸€</div><div>äºŒ</div><div>ä¸‰</div><div>å››</div><div>äº”</div><div>å…­</div>";
            for (let i = 0; i < firstDay; i++) {
                calendarHTML += "<div></div>";
            }
            for (let day = 1; day <= daysInMonth; day++) {
                calendarHTML += `<div>${day}</div>`;
            }
            document.getElementById("calendar").innerHTML = calendarHTML;
        }
        function editProfile() {
            document.getElementById('editModal').style.display = 'block';
        }
        function closeEditModal() {
            document.getElementById('editModal').style.display = 'none';
        }
        function showFoodPhotos() {
            document.getElementById('foodPhotosModal').style.display = 'block';
        }
        function closeFoodPhotosModal() {
            document.getElementById('foodPhotosModal').style.display = 'none';
        }
        window.onload = function () {
            generateCalendar();
        };
        function toggleDropdown() {
            document.getElementById("orderDropdown").classList.toggle("show");
        }

        // é»æ“Šå…¶ä»–åœ°æ–¹æ™‚é—œé–‰ä¸‹æ‹‰é¸å–®
        window.onclick = function (event) {
            if (!event.target.matches('.dropdown-btn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
    </script>
</head>

<body>
    <div class="container">
        <div class="navbar">
            <div class="site-name">å‘³ä½ è€Œç…®</div>
            <div class="nav-links">
                <a href="/ChefAfterLogin">é¦–é </a>
                <a href="/ChefMain">æˆ‘çš„é é¢</a>
                <a href="/ChefUnOrder">å¾…æ¥å–®è¨‚å–®</a>

                <!-- æ–°å¢ä¸‹æ‹‰é¸å–® -->
                <div class="dropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown()">æˆ‘çš„è¨‚å–® â–¾</button>
                    <div class="dropdown-content" id="orderDropdown">
                        <a href="/ChefOrder">å¾…å®Œæˆè¨‚å–®</a>
                        <a href="/OrderDone">å·²å®Œæˆè¨‚å–®</a>
                        <a href="/Charging">è­°åƒ¹ä¸­è¨‚å–®</a>
                        <a href="/CancelOrder">å·²å–æ¶ˆè¨‚å–®</a>
                    </div>
                </div>

                <a href="#">å®¢æœè¯çµ¡</a>
            </div>
            <div class="user-info">
                <div class="username">{{ user_email }}</div>
                <div class="settings-icon" onclick="toggleSettingsModal()"></div>
            </div>
        </div>

        <div class="content">
            <div class="box profile">
                <div class="profile-content">
                    <button class="edit-button" onclick="editProfile()">ç·¨è¼¯</button>
                    <div class="profile-image">
                        <img id="chef-photo" src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡">
                    </div>
                    <div class="profile-text">
                        <h2 id="chef-name">ä¼æ…•å›</h2>
                        <p><strong>è¯çµ¡æ–¹å¼ï¼š</strong>0900284729</p>
                        <p><strong>å»šæˆ¿åœ°å€ï¼š</strong>å°åŒ—å¸‚å¤§å®‰å€ä»æ„›è·¯å››æ®µ123è™Ÿ</p>
                        <p><strong>å°ˆæ¥­è­‰ç…§ï¼š</strong><span class="underline">HACCP é£Ÿå“å®‰å…¨</span></p>
                        <p><strong>æ–™ç†å°ˆé•·ï¼š</strong>ä¸­å¼å·èœ</p>
                        <p><strong>æ‹›ç‰Œèœï¼š</strong>éº»å©†è±†è…</p>
                        <p><strong>é£Ÿç‰©ç…§ï¼š</strong></p>
                        <button class="view-photos-btn" onclick="showFoodPhotos()">æŸ¥çœ‹ä¸Šå‚³ç…§ç‰‡</button>
                    </div>
                </div>
            </div>

            <div class="box square-box notifications">
                <div class="notification-icon">ğŸ””</div>
                <ul>
                    <li><a href="#">#20250125066çš„è¨‚å–®é¡§å®¢å›è¦†</a></li>
                    <li><a href="#">#20250125066çš„è­°åƒ¹å¤±æ•—</a></li>
                    <li><a href="#">#20250125066çš„è­°åƒ¹æˆåŠŸ</a></li>
                    <li><a href="#">#20250125065çš„è¨‚å–®å·²å®Œæˆä»˜æ¬¾</a></li>
                    <li><a href="#">#20250125064çš„è¨‚å–®å·²ç¢ºèªæ”¶è²¨</a></li>
                    <li><a href="#">#20250125063çš„é¡§å®¢çµ¦äºˆäº”æ˜Ÿå¥½è©•</a></li>
                    <li><a href="#">#20250125062éœ€è¦æ›´æ”¹è¨‚å–®å…§å®¹</a></li>
                    <li><a href="#">ç³»çµ±æé†’ï¼šè«‹è¨˜å¾—æ›´æ–°æœ¬é€±èœå–®</a></li>
                </ul>
            </div>

            <div class="right-section">
                <div class="box square-box calendar-box">
                    <div class="calendar-header" id="calendar-header"></div>
                    <div id="calendar" class="calendar"></div>
                </div>
                <div class="orders">
                    <div class="order-item"><a href="#">è¨‚å–®ç·¨è™Ÿ #1001</a></div>
                    <div class="order-item"><a href="#">è¨‚å–®ç·¨è™Ÿ #1002</a></div>
                    <div class="order-item"><a href="#">è¨‚å–®ç·¨è™Ÿ #1003</a></div>
                </div>
            </div>

            <!-- ç·¨è¼¯æ¨¡æ…‹æ¡† -->
            <div id="editModal" class="modal">
                <div class="modal-content">
                    <span class="close" onclick="closeEditModal()">&times;</span>
                    <h2>ç·¨è¼¯ç°¡ä»‹</h2>
                    <form>
                        <label for="name">å§“åï¼š</label>
                        <input type="text" id="name" name="name" value="ä¼æ…•å›"><br><br>
                        <label for="contact">è¯çµ¡æ–¹å¼ï¼š</label>
                        <input type="text" id="contact" name="contact" value="0900284729"><br><br>
                        <label for="address">å»šæˆ¿åœ°å€ï¼š</label>
                        <input type="text" id="address" name="address" value="å°åŒ—å¸‚å¤§å®‰å€ä»æ„›è·¯å››æ®µ123è™Ÿ"><br><br>
                        <label for="certificate">å°ˆæ¥­è­‰ç…§ï¼š</label>
                        <input type="text" id="certificate" name="certificate" value="HACCP é£Ÿå“å®‰å…¨"><br><br>
                        <label for="specialty">æ–™ç†å°ˆé•·ï¼š</label>
                        <input type="text" id="specialty" name="specialty" value="ä¸­å¼å·èœ"><br><br>
                        <label for="signature">æ‹›ç‰Œèœï¼š</label>
                        <input type="text" id="signature" name="signature" value="éº»å©†è±†è…"><br><br>
                        <label for="photo">ä¸Šå‚³æ–°ç…§ç‰‡ï¼š</label>
                        <input type="file" id="photo" name="photo"><br><br>
                        <label for="certificatePhoto">ä¸Šå‚³æ–°è­‰ç…§ï¼š</label>
                        <input type="file" id="certificatePhoto" name="certificatePhoto"><br><br>
                        <input type="submit" value="ä¿å­˜">
                    </form>
                </div>
            </div>

            <!-- é£Ÿç‰©ç…§ç‰‡æ¨¡æ…‹æ¡† -->
            <div id="foodPhotosModal" class="modal">
                <div class="modal-content">
                    <span class="close" onclick="closeFoodPhotosModal()">&times;</span>
                    <h2>é£Ÿç‰©ç…§ç‰‡</h2>
                    <div class="food-photos-container">
                        <img src="{{ url_for('static', filename='imgs/food1.png') }}" alt="é£Ÿç‰©ç…§ç‰‡1" style="width: 100%; border-radius: 8px; margin-bottom: 10px;">
                        <img src="{{ url_for('static', filename='imgs/food2.png') }}" alt="é£Ÿç‰©ç…§ç‰‡2" style="width: 100%; border-radius: 8px;">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>