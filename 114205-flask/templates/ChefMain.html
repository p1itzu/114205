<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/ChefMain.css') }}">
    <title>è¨‚å–®ç®¡ç†ç³»çµ±</title>
    <script>
        function generateCalendar() {
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth();
            const monthNames = ["ä¸€æœˆ", "äºŒæœˆ", "ä¸‰æœˆ", "å››æœˆ", "äº”æœˆ", "å…­æœˆ", "ä¸ƒæœˆ", "å…«æœˆ", "ä¹æœˆ", "åæœˆ", "åä¸€æœˆ", "åäºŒæœˆ"];
            document.getElementById("calendar-header").innerText = monthNames[month] + " " + year;

            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            let calendarHTML = "<div>æ—¥</div><div>ä¸€</div><div>äºŒ</div><div>ä¸‰</div><div>å››</div><div>äº”</div><div>å…­</div>";
            for (let i = 0; i < firstDay; i++) {
                calendarHTML += "<div></div>";
            }
            for (let day = 1; day <= daysInMonth; day++) {
                calendarHTML += `<div>${day}</div>`;
            }
            document.getElementById("calendar").innerHTML = calendarHTML;
        }
        function editProfile() {
            let name = prompt("è«‹è¼¸å…¥æ‚¨çš„å§“å", document.getElementById("chef-name").innerText);
            let style = prompt("è«‹è¼¸å…¥æ‚¨çš„æ“…é•·æ–™ç†æ–¹å¼", document.getElementById("chef-style").innerText);
            let specialty = prompt("è«‹è¼¸å…¥æ‚¨çš„æ“…é•·èœè‰²", document.getElementById("chef-specialty").innerText);

            if (name) document.getElementById("chef-name").innerText = name;
            if (style) document.getElementById("chef-style").innerText = style;
            if (specialty) document.getElementById("chef-specialty").innerText = specialty;
        }
        window.onload = function () {
            generateCalendar();
        };
        function toggleDropdown() {
            document.getElementById("orderDropdown").classList.toggle("show");
        }

        // é»æ“Šå…¶ä»–åœ°æ–¹æ™‚é—œé–‰ä¸‹æ‹‰é¸å–®
        window.onclick = function (event) {
            if (!event.target.matches('.dropdown-btn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
    </script>
</head>

<body>
    <div class="container">
        <div class="navbar">
            <div class="site-name">[ç¶²ç«™åç¨±]</div>
            <div class="nav-links">
                <a href="/ChefAfterLogin">é¦–é </a>
                <a href="/ChefMain">æˆ‘çš„é é¢</a>
                <a href="/ChefUnOrder">å¾…æ¥å–®è¨‚å–®</a>

                <!-- æ–°å¢ä¸‹æ‹‰é¸å–® -->
                <div class="dropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown()">æˆ‘çš„è¨‚å–® â–¾</button>
                    <div class="dropdown-content" id="orderDropdown">
                        <a href="/ChefOrder">å¾…å®Œæˆè¨‚å–®</a>
                        <a href="/OrderDone">å·²å®Œæˆè¨‚å–®</a>
                        <a href="/Charging">è­°åƒ¹ä¸­è¨‚å–®</a>
                        <a href="/CancelOrder">å·²å–æ¶ˆè¨‚å–®</a>
                    </div>
                </div>

                <a href="#">å®¢æœè¯çµ¡</a>
            </div>
            <div class="user-info">
                <div class="username">11336012@ntub.edu.tw</div>
                <div class="settings-icon" onclick="toggleSettingsModal()"></div>
            </div>
        </div>

        <div class="content">
            <div class="box profile">
                <div class="profile-content">
                    <button class="edit-button" onclick="editProfile()">ç·¨è¼¯</button>
                    <div class="profile-image">
                        <img id="chef-photo" src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡">
                    </div>
                    <div class="profile-text">
                        <h2 id="chef-name">ä¼æ…•å›</h2>
                        <p><strong>æ“…é•·æ–™ç†æ–¹å¼ï¼š</strong> <span id="chef-style">ä¸­å¼æ–™ç†</span></p>
                        <p><strong>æ“…é•·èœè‰²ï¼š</strong> <span id="chef-specialty">ç´…ç‡’ç‰›è‚‰éºµ</span></p>
                    </div>
                </div>
            </div>

            <div class="box square-box notifications">
                <div class="notification-icon">ğŸ””</div>
                <ul>
                    <li><a href="#">#20250125066çš„è¨‚å–®é¡§å®¢å›è¦†</a></li>
                    <li><a href="#">#20250125066çš„è­°åƒ¹å¤±æ•—</a></li>
                    <li><a href="#">#20250125066çš„è­°åƒ¹æˆåŠŸ</a></li>
                </ul>
            </div>

            <div class="right-section">
                <div class="box square-box calendar-box">
                    <div class="calendar-header" id="calendar-header"></div>
                    <div id="calendar" class="calendar"></div>
                </div>
                <div class="orders">
                    <div class="order-item"><a href="#">è¨‚å–®ç·¨è™Ÿ #1001</a></div>
                    <div class="order-item"><a href="#">è¨‚å–®ç·¨è™Ÿ #1002</a></div>
                    <div class="order-item"><a href="#">è¨‚å–®ç·¨è™Ÿ #1003</a></div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>