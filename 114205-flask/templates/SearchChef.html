<!DOCTYPE html>
<html lang="zh">

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cactus+Classical+Serif&family=Noto+Sans+HK:wght@100..900&family=Noto+Serif+TC:wght@200..900&display=swap"
        rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{ url_for('static', filename='css/SearchChef.css') }}" rel="stylesheet" />
    <link href="{{ url_for('static', filename='css/notification.css') }}" rel="stylesheet" />
    <title>å°‹æ‰¾å»šå¸«</title>
</head>

<body>
    <div class="navbar">
        <div class="site-name">[ç¶²ç«™åç¨±]</div>
        <div class="nav-links">
            <a href="/AfterLogin">é¦–é </a>
            <a href="/CookingMethod">æ–™ç†æ–¹å¼å»ºè­°</a>
            <a href="/SearchChef">ç™¼é€è¨‚å–®</a>
            <a href="/my-order">æˆ‘çš„è¨‚å–®</a>
            <a href="#" onclick="toggleNotification(); return false;">é€šçŸ¥ä¸­å¿ƒ</a>
        </div>
        <div class="user-info">
            <div class="username">11336012@ntub.edu.tw</div>
            <div class="settings-icon" onclick="toggleSettingsModal()"></div>
        </div>
    </div>
    <!-- é€šçŸ¥ä¸­å¿ƒè¦–çª— -->
    <div class="notification-center" id="notificationCenter">
        <div class="notification-header">
            <span>é€šçŸ¥ä¸­å¿ƒ</span>
            <button class="clear-all" onclick="clearAllNotifications()">æ¸…ç©ºé€šçŸ¥</button>
        </div>
        <ul class="notification-list" id="notificationList">
            <!-- é€šçŸ¥é …ç›®æœƒå‹•æ…‹æ·»åŠ åœ¨é€™è£¡ -->
        </ul>
    </div>

    <!-- ä¸»è¦å…§å®¹å€å¡Š -->
    <div class="content-container">
        <!-- å·¦å´æ»¾å‹•å€å¡Š -->
        <div class="main-content">
            <h2>å°‹æ‰¾å»šå¸«</h2>
            <div class="chef-list">
                <div class="chef-card">
                    <table>
                        <tr>
                            <td class="chef-img">
                                <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡" class="chef-img">
                            </td>
                            <td>
                                <div class="chef-info">
                                    <h3>å»šå¸« A</h3>
                                    <p>å°ˆé•·ï¼šæ—¥å¼æ–™ç†</p>
                                    <p>é ç´„ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/reserve'">é ç´„</button>
                            </td>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/evaluate'">æŸ¥çœ‹è©•åƒ¹</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="chef-card">
                    <table>
                        <tr>
                            <td class="chef-img">
                                <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡" class="chef-img">
                            </td>
                            <td>
                                <div class="chef-info">
                                    <h3>å»šå¸« A</h3>
                                    <p>å°ˆé•·ï¼šæ—¥å¼æ–™ç†</p>
                                    <p>è©•åƒ¹ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/reserve'">é ç´„</button>
                            </td>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/evaluate'">æŸ¥çœ‹è©•åƒ¹</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="chef-card">
                    <table>
                        <tr>
                            <td class="chef-img">
                                <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡" class="chef-img">
                            </td>
                            <td>
                                <div class="chef-info">
                                    <h3>å»šå¸« A</h3>
                                    <p>å°ˆé•·ï¼šæ—¥å¼æ–™ç†</p>
                                    <p>è©•åƒ¹ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/reserve'">é ç´„</button>
                            </td>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/evaluate'">æŸ¥çœ‹è©•åƒ¹</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="chef-card">
                    <table>
                        <tr>
                            <td class="chef-img">
                                <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡" class="chef-img">
                            </td>
                            <td>
                                <div class="chef-info">
                                    <h3>å»šå¸« A</h3>
                                    <p>å°ˆé•·ï¼šæ—¥å¼æ–™ç†</p>
                                    <p>è©•åƒ¹ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/reserve'">é ç´„</button>
                            </td>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/evaluate'">æŸ¥çœ‹è©•åƒ¹</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="chef-card">
                    <table>
                        <tr>
                            <td class="chef-img">
                                <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡" class="chef-img">
                            </td>
                            <td>
                                <div class="chef-info">
                                    <h3>å»šå¸« A</h3>
                                    <p>å°ˆé•·ï¼šæ—¥å¼æ–™ç†</p>
                                    <p>è©•åƒ¹ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/reserve'">é ç´„</button>
                            </td>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/evaluate'">æŸ¥çœ‹è©•åƒ¹</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="chef-card">
                    <table>
                        <tr>
                            <td class="chef-img">
                                <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡" class="chef-img">
                            </td>
                            <td>
                                <div class="chef-info">
                                    <h3>å»šå¸« A</h3>
                                    <p>å°ˆé•·ï¼šæ—¥å¼æ–™ç†</p>
                                    <p>è©•åƒ¹ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/reserve'">é ç´„</button>
                            </td>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/evaluate'">æŸ¥çœ‹è©•åƒ¹</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="chef-card">
                    <table>
                        <tr>
                            <td class="chef-img">
                                <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡" class="chef-img">
                            </td>
                            <td>
                                <div class="chef-info">
                                    <h3>å»šå¸« A</h3>
                                    <p>å°ˆé•·ï¼šæ—¥å¼æ–™ç†</p>
                                    <p>è©•åƒ¹ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/reserve'">é ç´„</button>
                            </td>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/evaluate'">æŸ¥çœ‹è©•åƒ¹</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="chef-card">
                    <table>
                        <tr>
                            <td class="chef-img">
                                <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å»šå¸«ç…§ç‰‡" class="chef-img">
                            </td>
                            <td>
                                <div class="chef-info">
                                    <h3>å»šå¸« A</h3>
                                    <p>å°ˆé•·ï¼šæ—¥å¼æ–™ç†</p>
                                    <p>è©•åƒ¹ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/reserve'">é ç´„</button>
                            </td>
                            <td>
                                <button class="order-btn" onclick="window.location.href='/evaluate'">æŸ¥çœ‹è©•åƒ¹</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- å¯æ–°å¢æ›´å¤šå»šå¸«å¡ç‰‡ -->
            </div>
        </div>

        <!-- å³å´å›ºå®šå€å¡Š -->
        <div class="fixed-sidebar">
            <h3>è¨‚è£½æµç¨‹</h3>
            <p>å°‹æ‰¾åˆé©çš„å»šå¸«</p>
            <p>é ç´„ã€å¡«å¯«èœå–®</p>
            <p>ç¢ºèªåƒ¹éŒ¢</p>
            <p>ç­‰å¾…é¤é»</p>
            <p>äº¤è²¨ä»˜æ¬¾</p>
        </div>
    </div>


    <!-- è¨­å®šå°è¦–çª— -->
    <div class="settings-modal" id="settings-modal">
        <div class="modal-content">
            <h2 class="title">è¨­å®š</h2>

            <!-- å¸³è™Ÿå€å¡Š -->
            <div class="section">
                <h3>å¸³è™Ÿ</h3>
                <div class="account-info">
                    <img src="{{ url_for('static', filename='imgs/chef.png') }}" alt="Avatar" class="avatar">
                    <div class="account-text">
                        <p class="name">PeiTzu Chang</p>
                        <p class="sub-text">å€‹äººè³‡æ–™</p>
                    </div>
                    <button class="arrow-btn" onclick="toggleProfileModal()">âœ</button>
                </div>
            </div>

            <!-- å…¶ä»– -->
            <div class="section">
                <h3>å…¶ä»–</h3>
                <button class="logout-btn">
                    <span>â†©ï¸ ç™»å‡º</span>
                </button>
                <button class="delete-btn">
                    ğŸ—‘ï¸ åˆªé™¤å¸³è™Ÿ
                </button>
            </div>
        </div>
    </div>
    <!-- ç¬¬äºŒå€‹å€‹äººè³‡æ–™è¦–çª— -->
    <div class="settings-modal" id="profile-modal">
        <div class="modal-content profile-content">
            <h2 class="title">å€‹äººè³‡æ–™ç·¨è¼¯</h2>

            <div class="profile-container">
                <!-- é ­åƒå€å¡Š -->
                <div class="avatar-section">
                    <label for="avatar-input">
                        <img id="profile-avatar" class="profile-avatar" src="{{ url_for('static', filename='imgs/chef.png') }}" alt="å€‹äººé ­åƒ">
                    </label>
                    <input type="file" id="avatar-input" accept="image/*" style="display: none;">
                    <button class="edit-avatar-btn">å€‹äººé ­åƒç·¨è¼¯</button>
                </div>

                <!-- è¼¸å…¥è¡¨å–® -->
                <div class="form-section">
                    <label>å§“åï¼š</label> <input type="text" placeholder="è«‹è¼¸å…¥å§“å">
                    <label>é›»å­éƒµä»¶ï¼š</label> <input type="email" placeholder="è«‹è¼¸å…¥é›»å­éƒµä»¶">
                    <label>é›»è©±ï¼š</label> <input type="tel" placeholder="è«‹è¼¸å…¥é›»è©±">
                    <label>å¯†ç¢¼ï¼š</label> <input type="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                </div>
            </div>

            <!-- å„²å­˜æŒ‰éˆ• -->
            <button class="save-btn">å„²å­˜è®Šæ›´</button>
            <button class="close-btn" onclick="toggleProfileModal()">è¿”å›</button>
        </div>
    </div>




    <script>
        // åˆ‡æ›è¨­å®šè¦–çª—
        function toggleSettingsModal() {
            const modal = document.getElementById('settings-modal');

            if (modal.classList.contains('show')) {
                modal.classList.remove('show');
                setTimeout(() => {
                    modal.style.display = 'none';
                }, 300); // ç­‰å‹•ç•«çµæŸå†éš±è—
            } else {
                modal.style.display = 'flex';
                setTimeout(() => {
                    modal.classList.add('show');
                }, 10);
            }
        }

        // åˆ‡æ›å€‹äººè³‡æ–™è¦–çª—
        function toggleProfileModal() {
            const profileModal = document.getElementById('profile-modal');

            if (profileModal.classList.contains('show')) {
                profileModal.classList.remove('show');
                setTimeout(() => {
                    profileModal.style.display = 'none';
                }, 300);
            } else {
                profileModal.style.display = 'flex';
                setTimeout(() => {
                    profileModal.classList.add('show');
                }, 10);
            }
        }

        // é»æ“Šè¦–çª—å¤–éƒ¨é—œé–‰
        window.onclick = function (event) {
            const settingsModal = document.getElementById('settings-modal');
            const profileModal = document.getElementById('profile-modal');

            // å¦‚æœé»æ“Šçš„ç›®æ¨™æ˜¯ `settingsModal` æœ¬èº«ï¼Œå‰‡é—œé–‰å®ƒ
            if (event.target === settingsModal) {
                toggleSettingsModal();
            }

            // å¦‚æœé»æ“Šçš„ç›®æ¨™æ˜¯ `profileModal` æœ¬èº«ï¼Œå‰‡é—œé–‰å®ƒ
            if (event.target === profileModal) {
                toggleProfileModal();
            }
        };


        document.getElementById('avatar-input').addEventListener('change', function (event) {
            const file = event.target.files[0];

            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('profile-avatar').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        });


        document.addEventListener("DOMContentLoaded", function () {
            const avatarInput = document.getElementById("avatar-input");
            const profileAvatar = document.getElementById("profile-avatar");
            const editAvatarBtn = document.querySelector(".edit-avatar-btn");

            // é»æ“ŠæŒ‰éˆ•æ™‚ï¼Œæ‰“é–‹æ–‡ä»¶é¸æ“‡è¦–çª—
            editAvatarBtn.addEventListener("click", function () {
                avatarInput.click();
            });

            // ç•¶ç”¨æˆ¶é¸æ“‡åœ–ç‰‡æ™‚
            avatarInput.addEventListener("change", function (event) {
                const file = event.target.files[0];

                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        profileAvatar.src = e.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });
        });
    </script>
    <script src="{{ url_for('static', filename='js/notification.js') }}"></script>
</body>

</html>